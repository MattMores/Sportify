{"ast":null,"code":"import { csrfFetch } from \"./csrf\"; // Define Action TYpes as Constants\n// const SET_BETS = \"bets/GET_ALL_BETS\";\n\nconst ADD_REVIEW = \"reviews/ADD_REVIEW\"; // const DELETE_BET = \"bets/DELETE_BET\"\n\nconst UPDATE_REVIEW = \"reviews/UPDATE_BET\"; // Define Action Creators\n// const setBets = (bets) => ({\n//     type: SET_BETS,\n//     bets, // payload\n// })\n\nconst addReview = review => ({\n  type: ADD_REVIEW,\n  review\n}); // const del = (betId) => ({\n//     type: DELETE_BET,\n//     betId,\n// });\n\n\nconst updateReview = review => ({\n  type: UPDATE_REVIEW,\n  review\n}); // Define Thunks\n// export const getAllBets = () => async (dispatch) => {\n//     const res = await csrfFetch('/api/bets');\n//     const bets = await res.json();\n//     dispatch(setBets(bets));\n// }\n\n\nexport const reviewCreate = review => async dispatch => {\n  console.log(\"RRRRRRRR\", review); // const { userId, title, content, notebookId } = note; //notebookId\n\n  const res = await csrfFetch(\"/api/reviews\", {\n    method: \"POST\",\n    body: JSON.stringify(review)\n  });\n\n  if (res.ok) {\n    const review = await res.json();\n    console.log(\"REVIEWIWIWIWIWIW\", review);\n    dispatch(addReview(review));\n    return res;\n  } // const newNote = await response.json();\n  // console.log(newNote)\n  // dispatch(addNote(newNote));\n  // return response;\n\n}; // export const deleteBet = (id) => async (dispatch) => {\n//     await csrfFetch('/api/bets', {\n//       method: 'DELETE',\n//       headers: { 'Content-Type': 'application/json' },\n//       body: JSON.stringify({ id }),\n//     });\n//     dispatch(del(id));\n//   };\n// export const betUpdate = (bet) => async (dispatch) => {\n//     const res = await csrfFetch('/api/bets', {\n//     method: 'PUT',\n//     headers: { 'Content-Type': 'application/json' },\n//     body: JSON.stringify(bet),\n// });\n// if (res.ok) {\n//     const updatedBet = await res.json();\n//     console.log(\"upppppppppp\", updatedBet)\n//     dispatch(updateBet(updatedBet))\n// }\n// };\n// Define an initial state\n\nconst initialState = {}; //Define a Reducer\n\nconst reviewsReducer = (state = initialState, action) => {\n  let newState;\n\n  switch (action.type) {\n    // case SET_BETS:\n    //     console.log(\"999999999999999\", action.bets)\n    //     const allBets = {};\n    //     action.bets.forEach((bet) => {\n    //         allBets[bet.id] = bet;\n    //     })\n    //     return {\n    //         ...state,\n    //         ...allBets,\n    //     }\n    case ADD_REVIEW:\n      {\n        return { ...state,\n          [action.review.id]: action.review\n        };\n      }\n    // case UPDATE_BET:\n    //     const { bet } = action\n    //     newState = {...state, [bet.id] : bet}\n    //     return newState;\n    // case DELETE_BET:\n    //     console.log(\"ppppppp\", action)\n    //     newState = {...state}\n    //     delete newState[action.betId]\n    //     return newState\n\n    default:\n      return state;\n  }\n};\n\nexport default reviewsReducer;","map":{"version":3,"sources":["/Users/matthewmores/AppAcademy/Capstone/Sportify/frontend/src/store/reviews.js"],"names":["csrfFetch","ADD_REVIEW","UPDATE_REVIEW","addReview","review","type","updateReview","reviewCreate","dispatch","console","log","res","method","body","JSON","stringify","ok","json","initialState","reviewsReducer","state","action","newState","id"],"mappings":"AAAA,SAASA,SAAT,QAA0B,QAA1B,C,CAEA;AACA;;AACA,MAAMC,UAAU,GAAG,oBAAnB,C,CACA;;AACA,MAAMC,aAAa,GAAG,oBAAtB,C,CAEA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,SAAS,GAAIC,MAAD,KAAa;AAC3BC,EAAAA,IAAI,EAAEJ,UADqB;AAE3BG,EAAAA;AAF2B,CAAb,CAAlB,C,CAKA;AACA;AACA;AACA;;;AAEA,MAAME,YAAY,GAAIF,MAAD,KAAa;AAC9BC,EAAAA,IAAI,EAAEH,aADwB;AAE9BE,EAAAA;AAF8B,CAAb,CAArB,C,CAKA;AACA;AACA;AACA;AACA;AACA;;;AAEA,OAAO,MAAMG,YAAY,GAAIH,MAAD,IAAY,MAAOI,QAAP,IAAoB;AACxDC,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBN,MAAxB,EADwD,CAExD;;AACA,QAAMO,GAAG,GAAG,MAAMX,SAAS,CAAC,cAAD,EAAiB;AACxCY,IAAAA,MAAM,EAAE,MADgC;AAExCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,MAAf;AAFkC,GAAjB,CAA3B;;AAIA,MAAIO,GAAG,CAACK,EAAR,EAAY;AACR,UAAMZ,MAAM,GAAG,MAAMO,GAAG,CAACM,IAAJ,EAArB;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCN,MAAhC;AACAI,IAAAA,QAAQ,CAACL,SAAS,CAACC,MAAD,CAAV,CAAR;AACA,WAAOO,GAAP;AACH,GAZuD,CAaxD;AACA;AACA;AACA;;AACH,CAjBM,C,CAmBP;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,MAAMO,YAAY,GAAG,EAArB,C,CAEA;;AACA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAGF,YAAT,EAAuBG,MAAvB,KAAkC;AACrD,MAAIC,QAAJ;;AACA,UAAQD,MAAM,CAAChB,IAAf;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAKJ,UAAL;AAAiB;AACb,eAAO,EACH,GAAGmB,KADA;AAEH,WAACC,MAAM,CAACjB,MAAP,CAAcmB,EAAf,GAAoBF,MAAM,CAACjB;AAFxB,SAAP;AAIC;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACI,aAAOgB,KAAP;AA3BR;AA6BH,CA/BD;;AAiCA,eAAeD,cAAf","sourcesContent":["import { csrfFetch } from \"./csrf\";\n\n// Define Action TYpes as Constants\n// const SET_BETS = \"bets/GET_ALL_BETS\";\nconst ADD_REVIEW = \"reviews/ADD_REVIEW\"\n// const DELETE_BET = \"bets/DELETE_BET\"\nconst UPDATE_REVIEW = \"reviews/UPDATE_BET\"\n\n// Define Action Creators\n// const setBets = (bets) => ({\n//     type: SET_BETS,\n//     bets, // payload\n// })\n\nconst addReview = (review) => ({\n    type: ADD_REVIEW,\n    review,\n  });\n\n// const del = (betId) => ({\n//     type: DELETE_BET,\n//     betId,\n// });\n\nconst updateReview = (review) => ({\n    type: UPDATE_REVIEW,\n    review,\n})\n\n// Define Thunks\n// export const getAllBets = () => async (dispatch) => {\n//     const res = await csrfFetch('/api/bets');\n//     const bets = await res.json();\n//     dispatch(setBets(bets));\n// }\n\nexport const reviewCreate = (review) => async (dispatch) => {\n    console.log(\"RRRRRRRR\", review)\n    // const { userId, title, content, notebookId } = note; //notebookId\n    const res = await csrfFetch(\"/api/reviews\", {\n        method: \"POST\",\n        body: JSON.stringify(review),\n    });\n    if (res.ok) {\n        const review = await res.json();\n        console.log(\"REVIEWIWIWIWIWIW\", review)\n        dispatch(addReview(review))\n        return res;\n    }\n    // const newNote = await response.json();\n    // console.log(newNote)\n    // dispatch(addNote(newNote));\n    // return response;\n};\n\n// export const deleteBet = (id) => async (dispatch) => {\n//     await csrfFetch('/api/bets', {\n//       method: 'DELETE',\n//       headers: { 'Content-Type': 'application/json' },\n//       body: JSON.stringify({ id }),\n//     });\n\n//     dispatch(del(id));\n//   };\n\n// export const betUpdate = (bet) => async (dispatch) => {\n//     const res = await csrfFetch('/api/bets', {\n//     method: 'PUT',\n//     headers: { 'Content-Type': 'application/json' },\n//     body: JSON.stringify(bet),\n// });\n// if (res.ok) {\n//     const updatedBet = await res.json();\n//     console.log(\"upppppppppp\", updatedBet)\n//     dispatch(updateBet(updatedBet))\n// }\n// };\n\n// Define an initial state\nconst initialState = {};\n\n//Define a Reducer\nconst reviewsReducer = (state = initialState, action) => {\n    let newState;\n    switch (action.type) {\n        // case SET_BETS:\n        //     console.log(\"999999999999999\", action.bets)\n        //     const allBets = {};\n        //     action.bets.forEach((bet) => {\n        //         allBets[bet.id] = bet;\n        //     })\n        //     return {\n        //         ...state,\n        //         ...allBets,\n        //     }\n        case ADD_REVIEW: {\n            return {\n                ...state,\n                [action.review.id]: action.review,\n              };\n            }\n        // case UPDATE_BET:\n        //     const { bet } = action\n        //     newState = {...state, [bet.id] : bet}\n        //     return newState;\n        // case DELETE_BET:\n        //     console.log(\"ppppppp\", action)\n        //     newState = {...state}\n        //     delete newState[action.betId]\n        //     return newState\n        default:\n            return state;\n    }\n}\n\nexport default reviewsReducer;\n"]},"metadata":{},"sourceType":"module"}